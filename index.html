<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ejercicio 4 FetchRegex</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="container">
            <h1>Email Regular Expression Check</h1>
            <br>
            <div class="input">
                <input type="text" name="email" id="email" placeholder="Introduce your email...">
                <button type="submit" id="check">Check</button>
            </div>
            <h3 id="result"></h3>
        </div>

        <script type="module">
            var inputEmail = document.getElementById("email");
            var check = document.getElementById("check");
            var result = document.getElementById("result");

            check.addEventListener("click", function() {
                let emailData = {
                    email: inputEmail.value
                };

                const peticion = {
                    method: 'POST',
                    headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    },
                    mode: 'cors',
                    body: JSON.stringify(emailData)
                }
                
                fetch('http://localhost:3000/regex', peticion)
                    .then(response => console.log(response))
                    .catch(err => console.log('Solicitud fallida', err));
            });
        </script>
    </body>
</html>